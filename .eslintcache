[{"/Users/riaagnesjose/Desktop/TranscodeProject/src/App.js":"1","/Users/riaagnesjose/Desktop/TranscodeProject/src/components/Transcoded.jsx":"2","/Users/riaagnesjose/Desktop/TranscodeProject/src/reportWebVitals.js":"3"},{"size":459,"mtime":1606299403478,"results":"4","hashOfConfig":"5"},{"size":7074,"mtime":1606299551721,"results":"6","hashOfConfig":"5"},{"size":362,"mtime":1606112177083,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"hy4wix",{"filePath":"10","messages":"11","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"12"},{"filePath":"13","messages":"14","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/riaagnesjose/Desktop/TranscodeProject/src/App.js",[],"/Users/riaagnesjose/Desktop/TranscodeProject/src/components/Transcoded.jsx",["15","16","17","18"],"import React, { useState, useEffect } from \"react\";\nimport {\n  Button,\n  Card,\n  Container,\n  Row,\n  Col,\n  Modal,\n  ProgressBar,\n} from \"react-bootstrap\";\nimport axios from \"axios\";\nimport pic from \"./pic.png\";\nimport media from \"./video.jpeg\";\n\nconst Transcoded = ({ user, onSearch }) => {\n  const [error, setError] = useState(\"\");\n  const [isLoading, setLoading] = useState(false);\n  const [isTranscoded, setTranscode] = useState(false);\n  const [showHide, setShowHide] = useState(false);\n  const [userEmail, setEmail] = useState(\"\");\n  const [progressPercentage, setProgressPercentage] = useState(0);\n  const [bitRate, setBitRate] = useState(0);\n  const [bitRateMessage, setbitRateMessage] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n  const [notify, setNotify] = useState(\"Let's start Transcoding!\");\n\n  useEffect(() => {\n    if (isLoading) {\n      const id = window.setInterval(() => {\n        setProgressPercentage((progressPercentage) => progressPercentage + 10);\n      }, 2800);\n      return () => window.clearInterval(id);\n    }\n    return undefined;\n  }, [isLoading]);\n\n  const sendSnS = () => {\n    axios\n      .post(\"https://f3l7h6tnse.execute-api.us-west-2.amazonaws.com/test\", {\n        email: userEmail,\n      })\n      .then((response) => {\n        console.log(userEmail);\n      })\n      .catch((error) => {\n        console.log(userEmail);\n        console.log(error);\n      });\n  };\n  let modalElement = \"\";\n\n  const performSearch = () => {\n    if (bitRate === 0 || bitRate > 640000 || bitRate < 64000) {\n      setbitRateMessage(\"Select a bitRate in the range of  64000 and 640000\");\n      return;\n    }\n    if (userEmail !== \"\") {\n      const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      if (!re.test(String(userEmail).toLowerCase())) {\n        setbitRateMessage(\n          \"Please enter a vilid email address. eg: joseagnesria@gmail.com\"\n        );\n        return;\n      }\n      sendSnS();\n    }\n    setNotify(\"Transcoding Job in progress..\");\n    setLoading(true);\n\n    setError(\"\");\n\n    axios\n      .get(\n        `https://ysahowljk6.execute-api.us-west-2.amazonaws.com/test/transcode?bitrate=${bitRate}`\n      )\n      .then((response) => {\n        console.log(\"waiting\");\n        setTimeout(function () {\n          setShowHide(!showHide);\n          setProgressPercentage(0);\n          setLoading(false);\n          console.log(response, response);\n          setTranscode(true);\n          onSearch({ status: \"done\" });\n          setUrl(response.data.url);\n          console.log(response.data.url);\n          setNotify(\"Let's start Transcoding!\");\n          console.log(\"Waiting complete\");\n        }, 15000);\n      })\n      .catch((error) => {\n        console.log(\"waiting\");\n        setTimeout(function () {\n          setShowHide(!showHide);\n          setProgressPercentage(0);\n          setLoading(false);\n          setTranscode(true);\n          onSearch({ status: \"done\" });\n          console.log(error);\n          console.log(\"Waiting complete\");\n          setNotify(\"Let's start Transcoding!\");\n        }, 15000);\n      });\n  };\n\n  let output;\n\n  if (isTranscoded) {\n   \n    output = (\n      <Card className=\"mb-3\" style={{ color: \"#000\" }}>\n        <a href={url} target=\"_blank\">\n          <Card.Img src={pic} />\n        </a>\n        <Card.Body>\n          <Card.Title>Video After Transcoding</Card.Title>\n        </Card.Body>\n      </Card>\n    );\n  }\n\n  if (progressPercentage === 0) {\n    modalElement = (\n      <div className=\"col text-center\">\n        Would you like to recieve notification about your Transcoding task?\n        <label> If yes, Please enter your email:</label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          onChange={(e) => setEmail(e.target.value)}\n          placeholder=\"joseagnesria@gmail.com\"\n        />\n        <br></br>\n        <label for=\"quantity\">BitRate (between 64000 and 640000):</label>\n        <input\n          type=\"number\"\n          onChange={(e) => setBitRate(e.target.value)}\n          placeholder=\"64000\"\n          id=\"quantity\"\n          name=\"quantity\"\n          min=\"64000\"\n          max=\"640000\"\n        />\n        <br></br>\n        {bitRateMessage}\n        <br></br>\n        <Button variant=\"primary\" onClick={performSearch}>\n          Transcode\n        </Button>\n      </div>\n    );\n  } else {\n    modalElement = <ProgressBar now={progressPercentage} />;\n  }\n\n  return (\n    <div className=\"search\">\n      <p className=\"error\">{error}</p>\n      <div className=\"col text-center\">\n        <h1> Ria's Trascoding Playgroud</h1>\n      </div>\n      <Container>\n        <Row>\n          <Col>\n            <Card className=\"mb-3\" style={{ color: \"#000\" }}>\n              <a\n                href=\"https://dw00dsohded4a.cloudfront.net/source%20folder/bunnyoutput1.mp4\"\n                target=\"_blank\"\n              >\n                <Card.Img src={pic} />\n              </a>\n              <Card.Body>\n                <Card.Title>Video before Transcoding</Card.Title>\n              </Card.Body>\n            </Card>\n          </Col>\n\n          <Col>{output}</Col>\n        </Row>\n      </Container>\n      <div class=\"col text-center\">\n        <div>\n          <Button variant=\"primary\" onClick={() => setShowHide(!showHide)}>\n            Start Transcoding\n          </Button>\n\n          <Modal show={showHide}>\n            <Modal.Header closeButton onClick={() => setShowHide(!showHide)}>\n              <Modal.Title>{notify}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>{modalElement}</Modal.Body>\n            <Modal.Footer>\n              <hr />\n\n              {/* <Button variant=\"secondary\" onClick={() => setShowHide(!showHide)}>\n                Transcode without subscription\n              </Button> */}\n            </Modal.Footer>\n          </Modal>\n        </div>\n\n        {/* <Button className=\"button\" onClick={performSearch}>\n          Start Transcoding the video\n        </Button> */}\n      </div>\n      <section className=\"about\">\n        <div className=\"container p-1 p-sm-3\">\n          <hr />\n          <div className=\"row\">\n            <div class=\"col text-center\">\n              <h2>About Project</h2>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-9\">\n              <img className=\"img-fluid\" src={media} />\n            </div>\n            <div className=\"col-3\">\n              <p>\n               The project uses AWS Elemental MediaConvert to transcode the video file based on the bitrate specified by the user. The static \n               content (HTML/CSS/JavaScript) is served using AWS Amplify. The project uses API Gateway and Lambda to invoke the MediaConvert Job.\n               The user can also monitor the Job by subscribing to the SNS topic. The frontend is powered by React.\n\n      \n              </p>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n};\n// Minimum: 64000\n\n// Maximum: 640000\nexport default Transcoded;\n","/Users/riaagnesjose/Desktop/TranscodeProject/src/reportWebVitals.js",[],{"ruleId":"19","severity":1,"message":"20","line":58,"column":52,"nodeType":"21","messageId":"22","endLine":58,"endColumn":53,"suggestions":"23"},{"ruleId":"24","severity":1,"message":"25","line":112,"column":23,"nodeType":"26","endLine":112,"endColumn":38},{"ruleId":"24","severity":1,"message":"25","line":168,"column":17,"nodeType":"26","endLine":168,"endColumn":32},{"ruleId":"27","severity":1,"message":"28","line":216,"column":15,"nodeType":"29","endLine":216,"endColumn":56},"no-useless-escape","Unnecessary escape character: \\[.","Literal","unnecessaryEscape",["30","31"],"react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXAttribute","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement",{"messageId":"32","fix":"33","desc":"34"},{"messageId":"35","fix":"36","desc":"37"},"removeEscape",{"range":"38","text":"39"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"40","text":"41"},"Replace the `\\` with `\\\\` to include the actual backslash character.",[1709,1710],"",[1709,1709],"\\"]